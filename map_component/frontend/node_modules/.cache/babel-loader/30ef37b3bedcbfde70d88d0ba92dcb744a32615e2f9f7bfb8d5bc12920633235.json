{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dharaneesh\\\\Desktop\\\\Map\\\\frontend\\\\src\\\\components\\\\MapComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from 'react-leaflet';\nimport L from 'leaflet';\nimport { formatDistance, getMarkerColor, getRatingColor, isMarketOpen, getCommodityIcon } from '../utils/helpers';\n\n// Fix for default markers in react-leaflet\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\n\n// Custom icon for user location\nconst userLocationIcon = new L.Icon({\n  iconUrl: 'data:image/svg+xml;base64,' + btoa(`\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class=\"w-6 h-6\">\n      <path fill-rule=\"evenodd\" d=\"M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z\" clip-rule=\"evenodd\" />\n    </svg>\n  `),\n  iconSize: [25, 25],\n  iconAnchor: [12, 12],\n  popupAnchor: [0, -12]\n});\n\n// Custom icon for mandis\nconst createMandiIcon = (type, isSelected = false) => {\n  const color = getMarkerColor(type);\n  const opacity = isSelected ? 1 : 0.8;\n  return new L.Icon({\n    iconUrl: 'data:image/svg+xml;base64,' + btoa(`\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"${color}\" opacity=\"${opacity}\" class=\"w-6 h-6\">\n        <path fill-rule=\"evenodd\" d=\"M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z\" clip-rule=\"evenodd\" />\n      </svg>\n    `),\n    iconSize: isSelected ? [30, 30] : [25, 25],\n    iconAnchor: [12, 12],\n    popupAnchor: [0, -12]\n  });\n};\nconst MapComponent = ({\n  mandis = [],\n  selectedMandis = [],\n  userLocation,\n  optimalRoute,\n  onMandiSelect\n}) => {\n  _s();\n  const [map, setMap] = useState(null);\n\n  // Default center (Delhi)\n  const defaultCenter = [28.6139, 77.2090];\n  const center = userLocation ? [userLocation.lat, userLocation.lon] : defaultCenter;\n  useEffect(() => {\n    if (map && userLocation) {\n      map.setView([userLocation.lat, userLocation.lon], 10);\n    }\n  }, [map, userLocation]);\n  useEffect(() => {\n    if (map && mandis.length > 0) {\n      const group = new L.featureGroup(mandis.map(mandi => L.marker([mandi.latitude, mandi.longitude])));\n      if (userLocation) {\n        group.addLayer(L.marker([userLocation.lat, userLocation.lon]));\n      }\n      map.fitBounds(group.getBounds().pad(0.1));\n    }\n  }, [map, mandis, userLocation]);\n  const isMandiSelected = mandi => {\n    return selectedMandis.some(selected => selected.id === mandi.id);\n  };\n  const renderRoutePolyline = () => {\n    if (!optimalRoute || !optimalRoute.routePlan || !optimalRoute.routePlan.detailedRoutes) {\n      return null;\n    }\n    return optimalRoute.routePlan.detailedRoutes.map((segment, index) => {\n      if (segment.route && segment.route.routePoints) {\n        const positions = segment.route.routePoints.map(point => [point.latitude, point.longitude]);\n        return /*#__PURE__*/_jsxDEV(Polyline, {\n          positions: positions,\n          color: \"#22c55e\",\n          weight: 4,\n          opacity: 0.7\n        }, `route-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this);\n      }\n      return null;\n    });\n  };\n  const MarkerPopup = ({\n    mandi\n  }) => {\n    const selected = isMandiSelected(mandi);\n    const marketOpen = isMarketOpen(mandi.operatingHours);\n    return /*#__PURE__*/_jsxDEV(Popup, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-w-64 p-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start justify-between mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-gray-900 text-sm\",\n            children: mandi.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"px-2 py-1 text-xs rounded-full\",\n              style: {\n                backgroundColor: getRatingColor(mandi.rating) + '20',\n                color: getRatingColor(mandi.rating)\n              },\n              children: [\"\\u2B50 \", mandi.rating]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this), mandi.isVerified && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-green-600 text-xs\",\n              children: \"\\u2713\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-1 text-xs text-gray-600 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uD83D\\uDCCD \", mandi.address]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uD83C\\uDFF7\\uFE0F \", mandi.type, \" market\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uD83D\\uDD52 \", mandi.operatingHours, /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `ml-1 font-medium ${marketOpen ? 'text-green-600' : 'text-red-600'}`,\n              children: [\"(\", marketOpen ? 'Open' : 'Closed', \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), mandi.distance && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uD83D\\uDCCF \", formatDistance(mandi.distance * 1000), \" away\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs font-medium text-gray-700 mb-1\",\n            children: \"Commodities:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-1\",\n            children: [mandi.commodities.slice(0, 4).map((commodity, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded\",\n              children: [getCommodityIcon(commodity), \" \", commodity]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this)), mandi.commodities.length > 4 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: [\"+\", mandi.commodities.length - 4, \" more\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onMandiSelect(mandi),\n            className: `px-3 py-1 text-xs rounded-md transition-colors ${selected ? 'bg-red-100 text-red-700 hover:bg-red-200' : 'bg-primary-100 text-primary-700 hover:bg-primary-200'}`,\n            children: selected ? '✓ Selected' : '+ Select'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `https://www.google.com/maps/dir/?api=1&destination=${mandi.latitude},${mandi.longitude}`,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors\",\n            children: \"\\uD83E\\uDDED Directions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(MapContainer, {\n    center: center,\n    zoom: 10,\n    style: {\n      height: '100%',\n      width: '100%'\n    },\n    ref: setMap,\n    children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n      attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), userLocation && /*#__PURE__*/_jsxDEV(Marker, {\n      position: [userLocation.lat, userLocation.lon],\n      icon: userLocationIcon,\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-gray-900\",\n            children: \"\\uD83D\\uDCCD Your Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-600 mt-1\",\n            children: [userLocation.lat.toFixed(4), \", \", userLocation.lon.toFixed(4)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }, this), mandis.map(mandi => /*#__PURE__*/_jsxDEV(Marker, {\n      position: [mandi.latitude, mandi.longitude],\n      icon: createMandiIcon(mandi.type, isMandiSelected(mandi)),\n      eventHandlers: {\n        click: () => onMandiSelect(mandi)\n      },\n      children: /*#__PURE__*/_jsxDEV(MarkerPopup, {\n        mandi: mandi\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }, this)\n    }, mandi.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }, this)), renderRoutePolyline()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this);\n};\n_s(MapComponent, \"zO+w5/RDv0BZF/+PcyE/nH1Y2dc=\");\n_c = MapComponent;\nexport default MapComponent;\nvar _c;\n$RefreshReg$(_c, \"MapComponent\");","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","Marker","Popup","Polyline","L","formatDistance","getMarkerColor","getRatingColor","isMarketOpen","getCommodityIcon","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","userLocationIcon","btoa","iconSize","iconAnchor","popupAnchor","createMandiIcon","type","isSelected","color","opacity","MapComponent","mandis","selectedMandis","userLocation","optimalRoute","onMandiSelect","_s","map","setMap","defaultCenter","center","lat","lon","setView","length","group","featureGroup","mandi","marker","latitude","longitude","addLayer","fitBounds","getBounds","pad","isMandiSelected","some","selected","id","renderRoutePolyline","routePlan","detailedRoutes","segment","index","route","routePoints","positions","point","weight","fileName","_jsxFileName","lineNumber","columnNumber","MarkerPopup","marketOpen","operatingHours","children","className","name","style","backgroundColor","rating","isVerified","address","distance","commodities","slice","commodity","idx","onClick","href","target","rel","zoom","height","width","ref","attribution","url","position","icon","toFixed","eventHandlers","click","_c","$RefreshReg$"],"sources":["C:/Users/Dharaneesh/Desktop/Map/frontend/src/components/MapComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport { \r\n  formatDistance, \r\n  getMarkerColor, \r\n  getRatingColor,\r\n  isMarketOpen,\r\n  getCommodityIcon\r\n} from '../utils/helpers';\r\n\r\n// Fix for default markers in react-leaflet\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\r\n});\r\n\r\n// Custom icon for user location\r\nconst userLocationIcon = new L.Icon({\r\n  iconUrl: 'data:image/svg+xml;base64,' + btoa(`\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class=\"w-6 h-6\">\r\n      <path fill-rule=\"evenodd\" d=\"M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z\" clip-rule=\"evenodd\" />\r\n    </svg>\r\n  `),\r\n  iconSize: [25, 25],\r\n  iconAnchor: [12, 12],\r\n  popupAnchor: [0, -12],\r\n});\r\n\r\n// Custom icon for mandis\r\nconst createMandiIcon = (type, isSelected = false) => {\r\n  const color = getMarkerColor(type);\r\n  const opacity = isSelected ? 1 : 0.8;\r\n  \r\n  return new L.Icon({\r\n    iconUrl: 'data:image/svg+xml;base64,' + btoa(`\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"${color}\" opacity=\"${opacity}\" class=\"w-6 h-6\">\r\n        <path fill-rule=\"evenodd\" d=\"M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z\" clip-rule=\"evenodd\" />\r\n      </svg>\r\n    `),\r\n    iconSize: isSelected ? [30, 30] : [25, 25],\r\n    iconAnchor: [12, 12],\r\n    popupAnchor: [0, -12],\r\n  });\r\n};\r\n\r\nconst MapComponent = ({ \r\n  mandis = [], \r\n  selectedMandis = [], \r\n  userLocation, \r\n  optimalRoute, \r\n  onMandiSelect \r\n}) => {\r\n  const [map, setMap] = useState(null);\r\n  \r\n  // Default center (Delhi)\r\n  const defaultCenter = [28.6139, 77.2090];\r\n  const center = userLocation ? [userLocation.lat, userLocation.lon] : defaultCenter;\r\n\r\n  useEffect(() => {\r\n    if (map && userLocation) {\r\n      map.setView([userLocation.lat, userLocation.lon], 10);\r\n    }\r\n  }, [map, userLocation]);\r\n\r\n  useEffect(() => {\r\n    if (map && mandis.length > 0) {\r\n      const group = new L.featureGroup(mandis.map(mandi => \r\n        L.marker([mandi.latitude, mandi.longitude])\r\n      ));\r\n      \r\n      if (userLocation) {\r\n        group.addLayer(L.marker([userLocation.lat, userLocation.lon]));\r\n      }\r\n      \r\n      map.fitBounds(group.getBounds().pad(0.1));\r\n    }\r\n  }, [map, mandis, userLocation]);\r\n\r\n  const isMandiSelected = (mandi) => {\r\n    return selectedMandis.some(selected => selected.id === mandi.id);\r\n  };\r\n\r\n  const renderRoutePolyline = () => {\r\n    if (!optimalRoute || !optimalRoute.routePlan || !optimalRoute.routePlan.detailedRoutes) {\r\n      return null;\r\n    }\r\n\r\n    return optimalRoute.routePlan.detailedRoutes.map((segment, index) => {\r\n      if (segment.route && segment.route.routePoints) {\r\n        const positions = segment.route.routePoints.map(point => [\r\n          point.latitude, \r\n          point.longitude\r\n        ]);\r\n        \r\n        return (\r\n          <Polyline\r\n            key={`route-${index}`}\r\n            positions={positions}\r\n            color=\"#22c55e\"\r\n            weight={4}\r\n            opacity={0.7}\r\n          />\r\n        );\r\n      }\r\n      return null;\r\n    });\r\n  };\r\n\r\n  const MarkerPopup = ({ mandi }) => {\r\n    const selected = isMandiSelected(mandi);\r\n    const marketOpen = isMarketOpen(mandi.operatingHours);\r\n    \r\n    return (\r\n      <Popup>\r\n        <div className=\"min-w-64 p-2\">\r\n          <div className=\"flex items-start justify-between mb-2\">\r\n            <h3 className=\"font-semibold text-gray-900 text-sm\">{mandi.name}</h3>\r\n            <div className=\"flex items-center space-x-1\">\r\n              <span \r\n                className=\"px-2 py-1 text-xs rounded-full\"\r\n                style={{ \r\n                  backgroundColor: getRatingColor(mandi.rating) + '20',\r\n                  color: getRatingColor(mandi.rating)\r\n                }}\r\n              >\r\n                ⭐ {mandi.rating}\r\n              </span>\r\n              {mandi.isVerified && (\r\n                <span className=\"text-green-600 text-xs\">✓</span>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"space-y-1 text-xs text-gray-600 mb-3\">\r\n            <p>📍 {mandi.address}</p>\r\n            <p>🏷️ {mandi.type} market</p>\r\n            <p>🕒 {mandi.operatingHours} \r\n              <span className={`ml-1 font-medium ${marketOpen ? 'text-green-600' : 'text-red-600'}`}>\r\n                ({marketOpen ? 'Open' : 'Closed'})\r\n              </span>\r\n            </p>\r\n            {mandi.distance && (\r\n              <p>📏 {formatDistance(mandi.distance * 1000)} away</p>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"mb-3\">\r\n            <p className=\"text-xs font-medium text-gray-700 mb-1\">Commodities:</p>\r\n            <div className=\"flex flex-wrap gap-1\">\r\n              {mandi.commodities.slice(0, 4).map((commodity, idx) => (\r\n                <span \r\n                  key={idx} \r\n                  className=\"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded\"\r\n                >\r\n                  {getCommodityIcon(commodity)} {commodity}\r\n                </span>\r\n              ))}\r\n              {mandi.commodities.length > 4 && (\r\n                <span className=\"text-xs text-gray-500\">\r\n                  +{mandi.commodities.length - 4} more\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-2\">\r\n            <button\r\n              onClick={() => onMandiSelect(mandi)}\r\n              className={`px-3 py-1 text-xs rounded-md transition-colors ${\r\n                selected\r\n                  ? 'bg-red-100 text-red-700 hover:bg-red-200'\r\n                  : 'bg-primary-100 text-primary-700 hover:bg-primary-200'\r\n              }`}\r\n            >\r\n              {selected ? '✓ Selected' : '+ Select'}\r\n            </button>\r\n            \r\n            <a\r\n              href={`https://www.google.com/maps/dir/?api=1&destination=${mandi.latitude},${mandi.longitude}`}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors\"\r\n            >\r\n              🧭 Directions\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </Popup>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <MapContainer\r\n      center={center}\r\n      zoom={10}\r\n      style={{ height: '100%', width: '100%' }}\r\n      ref={setMap}\r\n    >\r\n      <TileLayer\r\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n      />\r\n      \r\n      {/* User location marker */}\r\n      {userLocation && (\r\n        <Marker \r\n          position={[userLocation.lat, userLocation.lon]} \r\n          icon={userLocationIcon}\r\n        >\r\n          <Popup>\r\n            <div className=\"text-center p-2\">\r\n              <h4 className=\"font-medium text-gray-900\">📍 Your Location</h4>\r\n              <p className=\"text-xs text-gray-600 mt-1\">\r\n                {userLocation.lat.toFixed(4)}, {userLocation.lon.toFixed(4)}\r\n              </p>\r\n            </div>\r\n          </Popup>\r\n        </Marker>\r\n      )}\r\n      \r\n      {/* Mandi markers */}\r\n      {mandis.map((mandi) => (\r\n        <Marker\r\n          key={mandi.id}\r\n          position={[mandi.latitude, mandi.longitude]}\r\n          icon={createMandiIcon(mandi.type, isMandiSelected(mandi))}\r\n          eventHandlers={{\r\n            click: () => onMandiSelect(mandi),\r\n          }}\r\n        >\r\n          <MarkerPopup mandi={mandi} />\r\n        </Marker>\r\n      ))}\r\n      \r\n      {/* Route polylines */}\r\n      {renderRoutePolyline()}\r\n    </MapContainer>\r\n  );\r\n};\r\n\r\nexport default MapComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}